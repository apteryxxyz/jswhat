<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8" />
        <meta http-equiv="X-UA-Compatible" content="IE=edge" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <title>JSWhat Browser Example</title>

        <script src="../dist/index.js"></script>
        <script>
            async function whatIsThis() {
                const results = document.getElementById('results');
                const textbox = document.getElementById('textbox');

                const text = textbox.value;
                results.innerHTML = '';

                const result = await what.is(text);
                const mapped = result.map((m) => {
                    return [
                        `Identified as: ${m.name}`,
                        `Matched at: ${m.matched}`,
                        `Description: ${m.description}`,
                        `Tags: ${m.tags.join(', ')}`,
                    ].join('<br>');
                });

                results.innerHTML = 'Results: ' + result.length + '<br><br>' + mapped.join('<br><br>');
            }
        </script>
    </head>
    <body>
        <p>Type something into the text input below and press 'WHAT?'</p>
        <input id="textbox" type="text" style="width: 35%" />
        <button onclick="whatIsThis()">WHAT?</button>
        <br />
        <br />
        <span id="results"> </span>
    </body>
</html>
